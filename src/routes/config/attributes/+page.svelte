<script>
    import { afterUpdate, onMount } from 'svelte';
    import sprites from '$lib/assets/sprites.svg?url';
    import { draw, fade, scale, fly } from 'svelte/transition';
    import { sineIn, quintOut } from 'svelte/easing';
    import { UserPreferences } from '$lib/components/store';
    import { page } from '$app/stores';
    import { tooltip } from '$lib/utils/tooltip';
    import { dev } from '$app/environment';
    import { PUBLIC_DEV_BASE_URL, PUBLIC_BASE_URL } from '$env/static/public';
    import { CurrentModel } from '$lib/components/store';
    import { _ as format } from 'svelte-i18n';
    import 'tippy.js/themes/material.css';
    import 'tippy.js/themes/light-border.css';
    import 'tippy.js/themes/light.css';
    import 'tippy.js/themes/translucent.css';

    let pageLoaded = false;
    $: base = dev ? PUBLIC_DEV_BASE_URL : PUBLIC_BASE_URL;
    $: referrer = decodeURIComponent($page.url.search).replace('?referrer=/', '');
    $: isChangingAttributes = referrer === '' ? false : true;

    onMount(() => {
        pageLoaded = !pageLoaded;
        console.log($page);
    });

    let attributes = [];

    afterUpdate(() => {
        console.log(attributes);
        console.log('referrer: ', referrer);
        console.log('wants to change attributes: ', isChangingAttributes);
    });

    function saveUserPreferences() {
        UserPreferences.add('attributes', attributes);
        console.log($UserPreferences);
        UserPreferences.persist($UserPreferences);
    }
    const attributeItems = [
        {
            value: `${$format('config_attributes_btn_1')}`,
            title: 'VLAN, PVST, SDN, Firewalls',
            placement: 'left-end',
            classname: 'segmented-networks',
            icon: `<svg
					xmlns="http://www.w3.org/2000/svg"
					width="51"
					height="51"
					viewBox="0 0 51 51"
					fill="none"
				>
					<path
						d="M7.9335 27.7249C7.80753 27.7249 7.68673 27.7749 7.59766 27.864C7.50858 27.9531 7.45853 28.0739 7.4585 28.1999V44.6665C7.45853 44.7925 7.50858 44.9133 7.59766 45.0024C7.68673 45.0914 7.80753 45.1415 7.9335 45.1415H24.4002C24.5261 45.1415 24.6469 45.0914 24.736 45.0024C24.8251 44.9133 24.8751 44.7925 24.8752 44.6665V28.1999C24.8751 28.0739 24.8251 27.9531 24.736 27.864C24.6469 27.7749 24.5261 27.7249 24.4002 27.7249H7.9335ZM23.9252 44.1915H8.4085V28.6749H23.9252V44.1915Z"
						fill="url(#paint0_linear_393_766)"
					/>
					<path
						d="M36.4549 45.1417C38.173 45.1416 39.8526 44.6321 41.2812 43.6775C42.7098 42.7229 43.8232 41.3662 44.4807 39.7788C45.1382 38.1914 45.3102 36.4447 44.9749 34.7596C44.6397 33.0744 43.8123 31.5265 42.5974 30.3116C41.3824 29.0967 39.8345 28.2694 38.1494 27.9342C36.4642 27.5991 34.7175 27.7711 33.1302 28.4287C31.5428 29.0862 30.1861 30.1997 29.2315 31.6283C28.277 33.0569 27.7675 34.7365 27.7676 36.4547C27.7702 38.7578 28.6864 40.9659 30.315 42.5945C31.9436 44.223 34.1517 45.1391 36.4549 45.1417ZM36.4549 28.7173C37.9851 28.7174 39.481 29.1712 40.7534 30.0214C42.0257 30.8715 43.0174 32.0799 43.603 33.4937C44.1886 34.9075 44.3418 36.4631 44.0432 37.964C43.7447 39.4648 43.0078 40.8434 41.9257 41.9255C40.8437 43.0075 39.4651 43.7444 37.9642 44.043C36.4634 44.3415 34.9077 44.1883 33.4939 43.6027C32.0801 43.0171 30.8718 42.0255 30.0216 40.7531C29.1714 39.4808 28.7176 37.9849 28.7176 36.4547C28.7198 34.4033 29.5357 32.4366 30.9863 30.986C32.4368 29.5355 34.4035 28.7196 36.4549 28.7173Z"
						fill="url(#paint1_linear_393_766)"
					/>
					<path
						d="M34.9379 24.6498C34.9804 24.5808 35.0046 24.5022 35.0082 24.4213C35.0118 24.3404 34.9947 24.2599 34.9586 24.1874L26.0919 6.4541C26.048 6.38056 25.9858 6.31968 25.9113 6.2774C25.8368 6.23512 25.7527 6.21289 25.667 6.21289C25.5814 6.21289 25.4972 6.23512 25.4227 6.2774C25.3482 6.31968 25.286 6.38056 25.2421 6.4541L16.3754 24.1874C16.3392 24.2599 16.3221 24.3404 16.3257 24.4213C16.3293 24.5022 16.3535 24.5808 16.3961 24.6497C16.4387 24.7186 16.4982 24.7755 16.5689 24.8149C16.6397 24.8543 16.7194 24.875 16.8004 24.8749H34.5337C34.6146 24.8749 34.6943 24.8542 34.765 24.8148C34.8357 24.7754 34.8952 24.7186 34.9379 24.6498ZM17.5688 23.9249L25.667 7.72882L33.7652 23.9249H17.5688Z"
						fill="url(#paint2_linear_393_766)"
					/>
					<defs>
						<linearGradient
							id="paint0_linear_393_766"
							x1="16.1668"
							y1="27.7249"
							x2="16.1668"
							y2="45.1415"
							gradientUnits="userSpaceOnUse"
						>
							<stop stop-color="#00BCEB" />
							<stop offset="0.445546" stop-color="#1482DB" />
							<stop offset="1" stop-color="#0169C2" />
						</linearGradient>
						<linearGradient
							id="paint1_linear_393_766"
							x1="36.4547"
							y1="27.7673"
							x2="36.4547"
							y2="45.1417"
							gradientUnits="userSpaceOnUse"
						>
							<stop stop-color="#00BCEB" />
							<stop offset="0.445546" stop-color="#1482DB" />
							<stop offset="1" stop-color="#0169C2" />
						</linearGradient>
						<linearGradient
							id="paint2_linear_393_766"
							x1="25.6669"
							y1="6.21289"
							x2="25.6669"
							y2="24.8749"
							gradientUnits="userSpaceOnUse"
						>
							<stop stop-color="#00BCEB" />
							<stop offset="0.445546" stop-color="#1482DB" />
							<stop offset="1" stop-color="#0169C2" />
						</linearGradient>
					</defs>
				</svg>`
        },
        {
            value: `${$format('config_attributes_btn_2')}`,
            title: 'Port Security, RADIUS, Authentication, Firewalls, Password Strength, Groups',
            placement: 'right-end',
            classname: 'security',
            icon: `<svg xmlns="http://www.w3.org/2000/svg" width="49" height="49" viewBox="0 0 49 49" fill="none">
	<path
		d="M24.5001 5.66553C22.1048 5.66826 19.8085 6.62097 18.1148 8.31465C16.4211 10.0083 15.4684 12.3047 15.4657 14.6999V18.804C13.2951 20.6524 11.7438 23.1221 11.021 25.8799C10.2982 28.6377 10.4386 31.5508 11.4235 34.2263C12.4083 36.9017 14.1901 39.2107 16.5284 40.8417C18.8668 42.4727 21.6491 43.3472 24.5001 43.3472C27.351 43.3472 30.1334 42.4727 32.4717 40.8417C34.81 39.2107 36.5918 36.9017 37.5766 34.2263C38.5615 31.5508 38.702 28.6377 37.9791 25.8799C37.2563 23.1221 35.705 20.6524 33.5344 18.804V14.6999C33.5317 12.3047 32.579 10.0083 30.8853 8.31465C29.1916 6.62097 26.8953 5.66826 24.5001 5.66553ZM16.3844 14.6999C16.3844 12.5475 17.2395 10.4833 18.7614 8.96129C20.2834 7.43931 22.3477 6.58428 24.5001 6.58428C26.6525 6.58428 28.7167 7.43931 30.2387 8.96129C31.7606 10.4833 32.6157 12.5475 32.6157 14.6999V18.0836C30.252 16.3814 27.4129 15.4655 24.5001 15.4655C21.5872 15.4655 18.7481 16.3814 16.3844 18.0836V14.6999ZM37.5157 29.3999C37.5157 31.9742 36.7523 34.4906 35.3222 36.631C33.892 38.7714 31.8592 40.4397 29.4809 41.4248C27.1026 42.4099 24.4856 42.6677 21.9608 42.1654C19.436 41.6632 17.1169 40.4236 15.2966 38.6033C13.4763 36.7831 12.2367 34.4639 11.7345 31.9391C11.2323 29.4143 11.4901 26.7973 12.4752 24.419C13.4603 22.0407 15.1285 20.008 17.269 18.5778C19.4094 17.1476 21.9258 16.3843 24.5001 16.3843C27.9508 16.3881 31.2592 17.7607 33.6992 20.2007C36.1393 22.6408 37.5118 25.9491 37.5157 29.3999Z"
		fill="url(#paint0_linear_393_781)"
	/>
	<path
		d="M19.1406 29.3999C19.1406 30.4599 19.4549 31.4961 20.0438 32.3774C20.6327 33.2588 21.4698 33.9457 22.4491 34.3513C23.4284 34.757 24.5059 34.8631 25.5456 34.6563C26.5852 34.4495 27.5401 33.9391 28.2897 33.1896C29.0392 32.44 29.5496 31.4851 29.7564 30.4455C29.9632 29.4058 29.8571 28.3283 29.4514 27.349C29.0458 26.3697 28.3589 25.5326 27.4775 24.9437C26.5962 24.3548 25.56 24.0405 24.5 24.0405C23.0791 24.0421 21.7168 24.6072 20.7121 25.612C19.7073 26.6167 19.1422 27.979 19.1406 29.3999ZM28.9406 29.3999C28.9406 30.2782 28.6802 31.1367 28.1922 31.867C27.7043 32.5972 27.0108 33.1664 26.1994 33.5025C25.3879 33.8386 24.4951 33.9265 23.6337 33.7552C22.7723 33.5839 21.981 33.1609 21.36 32.5399C20.739 31.9189 20.316 31.1276 20.1447 30.2662C19.9734 29.4048 20.0613 28.512 20.3974 27.7005C20.7335 26.8891 21.3027 26.1956 22.0329 25.7077C22.7632 25.2197 23.6217 24.9593 24.5 24.9593C25.6773 24.9606 26.8061 25.4288 27.6386 26.2613C28.4711 27.0938 28.9393 28.2226 28.9406 29.3999Z"
		fill="url(#paint1_linear_393_781)"
	/>
	<path d="M24.9593 26.95H24.0405V31.85H24.9593V26.95Z" fill="url(#paint2_linear_393_781)" />
	<defs>
		<linearGradient
			id="paint0_linear_393_781"
			x1="24.5001"
			y1="5.66553"
			x2="24.5001"
			y2="43.3472"
			gradientUnits="userSpaceOnUse"
		>
			<stop stop-color="#FFA000" />
			<stop offset="1" stop-color="#FF7300" />
		</linearGradient>
		<linearGradient
			id="paint1_linear_393_781"
			x1="24.5"
			y1="24.0405"
			x2="24.5"
			y2="34.7593"
			gradientUnits="userSpaceOnUse"
		>
			<stop stop-color="#FFA000" />
			<stop offset="1" stop-color="#FF7300" />
		</linearGradient>
		<linearGradient
			id="paint2_linear_393_781"
			x1="24.4999"
			y1="26.95"
			x2="24.4999"
			y2="31.85"
			gradientUnits="userSpaceOnUse"
		>
			<stop stop-color="#FFA000" />
			<stop offset="1" stop-color="#FF7300" />
		</linearGradient>
	</defs>
</svg>`
        },
        {
            value: `${$format('config_attributes_btn_3')}`,
            title: "Set up through CLI if you're a pro",
            placement: 'left-end',
            classname: 'powered',
            icon: `<svg xmlns="http://www.w3.org/2000/svg" width="32" height="44" viewBox="0 0 32 44" fill="none">
	<path
		d="M22.0042 3.22471C21.9524 3.15498 21.885 3.09834 21.8073 3.05932C21.7297 3.02031 21.644 2.99999 21.5571 3H9.55713C9.44017 3 9.32619 3.03682 9.23132 3.10523C9.13646 3.17364 9.06554 3.27018 9.02862 3.38115L3.02861 21.3811C3.00068 21.4649 2.99306 21.5541 3.00636 21.6413C3.01967 21.7286 3.05353 21.8115 3.10514 21.8831C3.15676 21.9547 3.22466 22.013 3.30325 22.0533C3.38183 22.0935 3.46885 22.1145 3.55713 22.1144H12.4774L9.01075 39.4479C8.98596 39.5718 9.00396 39.7003 9.06181 39.8125C9.11966 39.9248 9.21391 40.014 9.32913 40.0657C9.44435 40.1173 9.5737 40.1283 9.69598 40.0968C9.81826 40.0653 9.92621 39.9933 10.0022 39.8924L28.0022 16.0022C28.0642 15.92 28.1021 15.8221 28.1118 15.7195C28.1216 15.6169 28.1026 15.5137 28.0572 15.4212C28.0118 15.3287 27.9416 15.2507 27.8544 15.1957C27.7673 15.1408 27.6666 15.111 27.5636 15.1099L18.7033 15.0085L22.0909 3.71748C22.1158 3.63426 22.1209 3.54638 22.1059 3.46083C22.0908 3.37528 22.056 3.29442 22.0042 3.22471V3.22471ZM17.4233 15.397C17.3986 15.4797 17.3933 15.567 17.408 15.6521C17.4227 15.7371 17.457 15.8176 17.5081 15.8872C17.5593 15.9567 17.6259 16.0135 17.7027 16.0529C17.7795 16.0924 17.8644 16.1134 17.9507 16.1144L26.4491 16.2117L10.5828 37.27L13.7035 21.6665C13.7197 21.5857 13.7178 21.5022 13.6978 21.4222C13.6778 21.3422 13.6404 21.2677 13.5881 21.2039C13.5358 21.1402 13.4701 21.0888 13.3955 21.0535C13.321 21.0183 13.2396 21 13.1571 21H4.33027L9.95879 4.11445H20.8083L17.4233 15.397Z"
		fill="url(#paint0_linear_393_330)"
	/>
	<defs>
		<linearGradient
			id="paint0_linear_393_330"
			x1="15.5572"
			y1="3"
			x2="15.5572"
			y2="40.1144"
			gradientUnits="userSpaceOnUse"
		>
			<stop stop-color="#8B1001" />
			<stop offset="1" stop-color="#E2231A" />
		</linearGradient>
	</defs>
</svg>`
        },
        {
            value: `${$format('config_attributes_btn_4')}`,
            title: 'Troubleshoot Firmware Upgrades, Link Flapping, and just about anything else',
            placement: 'right-end',
            classname: 'guest',
            icon: `<svg xmlns="http://www.w3.org/2000/svg" width="40" height="49" viewBox="0 0 40 49"      fill="none">
                <path d="M10.6953 25.4673C10.7866 25.4673 10.877 25.4544 10.9614 25.4293C11.0458 25.4042 11.1224 25.3675 11.187 25.3211C11.2515 25.2748 11.3028 25.2198 11.3377 25.1592C11.3726 25.0987 11.3906 25.0338 11.3906 24.9682V22.0972C11.3906 22.0317 11.3726 21.9668 11.3377 21.9062C11.3028 21.8457 11.2515 21.7906 11.187 21.7443C11.1224 21.698 11.0458 21.6612 10.9614 21.6361C10.877 21.611 10.7866 21.5981 10.6953 21.5981H7.39062V2H6V21.5981H2.69531C2.604 21.5981 2.51358 21.611 2.42922 21.6361C2.34486 21.6612 2.26821 21.698 2.20364 21.7443C2.13908 21.7906 2.08786 21.8457 2.05292 21.9062C2.01798 21.9668 2 22.0317 2 22.0972V24.9682C2 25.0338 2.01798 25.0987 2.05292 25.1592C2.08786 25.2198 2.13908 25.2748 2.20364 25.3211C2.26821 25.3675 2.34486 25.4042 2.42922 25.4293C2.51358 25.4544 2.604 25.4673 2.69531 25.4673H4V27.3402H2.69531C2.604 27.3402 2.51358 27.3531 2.42922 27.3782C2.34486 27.4033 2.26821 27.44 2.20364 27.4864C2.13908 27.5327 2.08786 27.5877 2.05292 27.6483C2.01798 27.7088 2 27.7737 2 27.8393V45.0654C2.00076 45.5783 2.28498 46.0701 2.79028 46.4328C3.29558 46.7955 3.9807 46.9995 4.69531 47H8.69531C9.40992 46.9995 10.095 46.7955 10.6003 46.4328C11.1056 46.0701 11.3899 45.5783 11.3906 45.0654V27.8393C11.3906 27.7737 11.3726 27.7088 11.3377 27.6483C11.3028 27.5877 11.2515 27.5327 11.187 27.4864C11.1224 27.44 11.0458 27.4033 10.9614 27.3782C10.877 27.3531 10.7866 27.3402 10.6953 27.3402H9.39062V25.4673H10.6953ZM10 28.3383V45.0654C9.99964 45.3137 9.86206 45.5517 9.61746 45.7273C9.37287 45.9029 9.04122 46.0016 8.69531 46.0019H4.69531C4.3494 46.0016 4.01776 45.9029 3.77316 45.7273C3.52856 45.5517 3.39099 45.3137 3.39062 45.0654V28.3383H10ZM5.39062 27.3402V25.4673H8V27.3402H5.39062ZM8.69531 24.4692H3.39062V22.5963H10V24.4692H8.69531Z" fill="#68B631"/>
<path d="M27.1406 47C28.4 46.9989 29.6073 46.6274 30.4978 45.9668C31.3883 45.3062 31.8892 44.4105 31.8906 43.4763V16.4951C33.7289 15.8249 35.2703 14.7785 36.333 13.4795C37.3956 12.1805 37.9351 10.6831 37.8878 9.16405C37.8404 7.64498 37.2082 6.16766 36.0658 4.90648C34.9234 3.6453 33.3185 2.65291 31.4404 2.04644C31.3263 2.00949 31.2016 1.9942 31.0775 2.00197C30.9534 2.00973 30.8338 2.0403 30.7297 2.09091C30.6255 2.14152 30.5399 2.21058 30.4808 2.29186C30.4216 2.37314 30.3906 2.46407 30.3906 2.55645V8.79542H23.8906V2.55645C23.8907 2.46407 23.8597 2.37314 23.8005 2.29186C23.7413 2.21058 23.6558 2.14152 23.5516 2.09091C23.4474 2.0403 23.3279 2.00973 23.2038 2.00197C23.0797 1.9942 22.955 2.00949 22.8408 2.04644C20.9628 2.65291 19.3578 3.6453 18.2154 4.90648C17.073 6.16766 16.4408 7.64498 16.3935 9.16405C16.3462 10.6831 16.8857 12.1805 17.9483 13.4795C19.0109 14.7785 20.5524 15.8249 22.3906 16.4951V43.4763C22.3921 44.4105 22.893 45.3062 23.7835 45.9668C24.6739 46.6274 25.8813 46.9989 27.1406 47ZM30.3906 43.4763C30.3906 44.1157 30.0482 44.7289 29.4387 45.1811C28.8292 45.6332 28.0026 45.8872 27.1406 45.8872C26.2787 45.8872 25.452 45.6332 24.8425 45.1811C24.233 44.7289 23.8906 44.1157 23.8906 43.4763V16.952C26.005 17.4514 28.2762 17.4514 30.3906 16.952V43.4763ZM17.8906 9.35179C17.8907 8.16593 18.3054 7.00035 19.0941 5.96888C19.8828 4.9374 21.0186 4.07529 22.3906 3.46672V9.35179C22.3907 9.49934 22.4697 9.64084 22.6104 9.74517C22.751 9.8495 22.9417 9.90813 23.1406 9.90817H31.1406C31.3395 9.90813 31.5303 9.8495 31.6709 9.74517C31.8115 9.64084 31.8906 9.49934 31.8906 9.35179V3.46672C33.2781 4.0831 34.4235 4.95861 35.2125 6.0059C36.0014 7.0532 36.4064 8.23566 36.387 9.43531C36.3675 10.635 35.9244 11.8099 35.1017 12.8428C34.2791 13.8757 33.1057 14.7306 31.6987 15.3221C30.2916 15.9135 28.7001 16.221 27.0828 16.2137C25.4656 16.2064 23.8792 15.8846 22.482 15.2804C21.0847 14.6763 19.9255 13.8109 19.1198 12.7706C18.3142 11.7304 17.8904 10.5515 17.8906 9.35179Z" fill="#68B631"/>
</svg>`
        }
    ];
</script>

{#if pageLoaded}
    <div class="page-container">
        <div class="clouds">
            <svg>
                <use xlink:href={`${sprites}#icon-clouds-left`} />
            </svg>
        </div>
        <div class="clouds_right">
            <svg>
                <use xlink:href={`${sprites}#icon-clouds-right2`} />
            </svg>
        </div>
        <div class="network-attributes" in:scale={{ delay: 200, duration: 1000, easing: sineIn }}>
            <svg
                xmlns="http://www.w3.org/2000/svg"
                width="250"
                height="120"
                viewBox="0 0 250 120"
                fill="none"
            >
                <g clip-path="url(#clip0_535_434)">
                    <path
                        d="M245.161 49.9199H200C198.575 49.9199 197.419 51.0661 197.419 52.4799V92.1599C197.419 93.5738 198.575 94.7199 200 94.7199H245.161C246.587 94.7199 247.742 93.5738 247.742 92.1599V52.4799C247.742 51.0661 246.587 49.9199 245.161 49.9199Z"
                        fill="white"
                        stroke="#042750"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                    />
                    <path
                        d="M197.419 57.5999V52.4799C197.419 51.801 197.691 51.1498 198.175 50.6697C198.659 50.1896 199.316 49.9199 200 49.9199H245.161C245.846 49.9199 246.502 50.1896 246.986 50.6697C247.47 51.1498 247.742 51.801 247.742 52.4799V57.5999H197.419Z"
                        fill="#042750"
                        stroke="#042750"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                    />
                    <path
                        d="M201.935 56.32C203.004 56.32 203.871 55.4604 203.871 54.4C203.871 53.3396 203.004 52.48 201.935 52.48C200.867 52.48 200 53.3396 200 54.4C200 55.4604 200.867 56.32 201.935 56.32Z"
                        fill="white"
                        stroke="#042750"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                    />
                    <path
                        d="M11.2195 93.4399H60.3808"
                        stroke="#042750"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                    />
                    <path
                        d="M49.6777 7.67993H39.3551C38.9988 7.67993 38.71 7.96647 38.71 8.31993V18.5599C38.71 18.9134 38.9988 19.1999 39.3551 19.1999H49.6777C50.034 19.1999 50.3229 18.9134 50.3229 18.5599V8.31993C50.3229 7.96647 50.034 7.67993 49.6777 7.67993Z"
                        fill="#042750"
                    />
                    <path
                        d="M31.6131 11.52H3.22597C2.86966 11.52 2.58081 11.8066 2.58081 12.16V27.52C2.58081 27.8735 2.86966 28.16 3.22597 28.16H31.6131C31.9694 28.16 32.2582 27.8735 32.2582 27.52V12.16C32.2582 11.8066 31.9694 11.52 31.6131 11.52Z"
                        fill="white"
                        stroke="#042750"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                    />
                    <path
                        d="M48.3872 33.28H-3.22569C-3.582 33.28 -3.87085 33.5666 -3.87085 33.92V50.56C-3.87085 50.9135 -3.582 51.2 -3.22569 51.2H48.3872C48.7435 51.2 49.0324 50.9135 49.0324 50.56V33.92C49.0324 33.5666 48.7435 33.28 48.3872 33.28Z"
                        fill="#042750"
                    />
                    <path
                        d="M27.7419 61.5422H0.645161C0.288849 61.5422 0 61.8288 0 62.1822V74.8798C0 75.2333 0.288849 75.5198 0.645161 75.5198H27.7419C28.0982 75.5198 28.3871 75.2333 28.3871 74.8798V62.1822C28.3871 61.8288 28.0982 61.5422 27.7419 61.5422Z"
                        fill="white"
                        stroke="#042750"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                    />
                    <path
                        d="M53.5486 102.4H17.4196C17.0633 102.4 16.7744 102.686 16.7744 103.04V115.84C16.7744 116.193 17.0633 116.48 17.4196 116.48H53.5486C53.9049 116.48 54.1938 116.193 54.1938 115.84V103.04C54.1938 102.686 53.9049 102.4 53.5486 102.4Z"
                        fill="#042750"
                    />
                    <path
                        d="M113.342 86.4672C108.406 96.1939 100.844 104.369 91.4978 110.08C82.1518 115.792 71.3899 118.815 60.4128 118.813C27.6967 118.813 1.17407 92.5024 1.17407 60.0448C1.17407 27.5872 27.6967 1.28005 60.4128 1.28005C69.6184 1.27294 78.6987 3.39746 86.9309 7.48453C95.1632 11.5716 102.32 17.5084 107.832 24.8224"
                        stroke="#042750"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        in:draw={{
                            delay: 1000,
                            duration: 3000,
                            easing: quintOut
                        }}
                    />
                    <path
                        d="M87.7421 115.2C89.8799 115.2 91.613 113.481 91.613 111.36C91.613 109.239 89.8799 107.52 87.7421 107.52C85.6042 107.52 83.8711 109.239 83.8711 111.36C83.8711 113.481 85.6042 115.2 87.7421 115.2Z"
                        fill="white"
                        stroke="#042750"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                    />
                    <path
                        d="M111.187 74.2401V71.0401C111.187 70.5309 110.983 70.0425 110.62 69.6825C110.257 69.3224 109.765 69.1201 109.251 69.1201H96.1772C95.6639 69.1201 95.1716 69.3224 94.8086 69.6825C94.4456 70.0425 94.2417 70.5309 94.2417 71.0401V96.6401C94.2417 97.1493 94.4456 97.6377 94.8086 97.9978C95.1716 98.3578 95.6639 98.5601 96.1772 98.5601H125.806C126.32 98.5601 126.812 98.3578 127.175 97.9978C127.538 97.6377 127.742 97.1493 127.742 96.6401V76.1601C127.742 75.6509 127.538 75.1625 127.175 74.8025C126.812 74.4424 126.32 74.2401 125.806 74.2401H111.187Z"
                        fill="white"
                        stroke="#042750"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        in:fly={{
                            x: -300,
                            delay: 385,
                            duration: 3000,
                            easing: quintOut
                        }}
                    />
                    <path
                        d="M125.806 77.3601H96.1288C95.0599 77.3601 94.1934 78.2197 94.1934 79.2801V96.6401C94.1934 97.7005 95.0599 98.5601 96.1288 98.5601H125.806C126.875 98.5601 127.742 97.7005 127.742 96.6401V79.2801C127.742 78.2197 126.875 77.3601 125.806 77.3601Z"
                        fill="white"
                        stroke="#042750"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        in:fly={{
                            x: -300,
                            delay: 385,
                            duration: 3000,
                            easing: quintOut
                        }}
                    />
                    <path
                        d="M170.923 79.3601H160.69C160.309 79.3601 160 79.6667 160 80.0449V90.1953C160 90.5735 160.309 90.8801 160.69 90.8801H170.923C171.304 90.8801 171.613 90.5735 171.613 90.1953V80.0449C171.613 79.6667 171.304 79.3601 170.923 79.3601Z"
                        fill="white"
                        stroke="#042750"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                    />
                    <path
                        d="M181.935 60.1599H146.709"
                        stroke="#042750"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                    />
                    <path
                        d="M181.935 64.0001C184.073 64.0001 185.806 62.2808 185.806 60.1601C185.806 58.0393 184.073 56.3201 181.935 56.3201C179.798 56.3201 178.064 58.0393 178.064 60.1601C178.064 62.2808 179.798 64.0001 181.935 64.0001Z"
                        fill="white"
                        stroke="#042750"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        in:fly={{
                            x: -100,
                            delay: 750,
                            duration: 3000,
                            easing: quintOut
                        }}
                    />
                    <path
                        d="M158.065 29.4399H133.548C133.192 29.4399 132.903 29.7265 132.903 30.0799V39.0399C132.903 39.3934 133.192 39.6799 133.548 39.6799H158.065C158.421 39.6799 158.71 39.3934 158.71 39.0399V30.0799C158.71 29.7265 158.421 29.4399 158.065 29.4399Z"
                        fill="#042750"
                    />
                    <path
                        d="M125.806 43.52H101.29C100.934 43.52 100.645 43.8066 100.645 44.16V53.12C100.645 53.4735 100.934 53.76 101.29 53.76H125.806C126.163 53.76 126.451 53.4735 126.451 53.12V44.16C126.451 43.8066 126.163 43.52 125.806 43.52Z"
                        fill="white"
                        stroke="#042750"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                    />
                    <path
                        d="M81.2906 61.1713V51.8401C81.2905 51.4996 81.1992 51.1653 81.0259 50.8713C80.8527 50.5774 80.6038 50.3345 80.3048 50.1674C80.0057 50.0004 79.6672 49.9152 79.3241 49.9207C78.9809 49.9261 78.6454 50.022 78.3518 50.1985L70.6099 54.8641C70.3255 55.0352 70.0903 55.2762 69.9272 55.5637C69.764 55.8513 69.6782 56.1757 69.6782 56.5057C69.6782 56.8357 69.764 57.1601 69.9272 57.4476C70.0903 57.7352 70.3255 57.9761 70.6099 58.1473L78.3518 62.8097C78.6451 62.986 78.9804 63.0819 79.3233 63.0875C79.6662 63.0931 80.0044 63.0082 80.3034 62.8415C80.6023 62.6748 80.8513 62.4323 81.0247 62.1389C81.1982 61.8454 81.2899 61.5115 81.2906 61.1713Z"
                        fill="#042750"
                    />
                    <path
                        d="M190.968 72.0159V81.2799C190.968 81.6203 191.059 81.9547 191.232 82.2486C191.406 82.5425 191.655 82.7854 191.954 82.9525C192.253 83.1196 192.591 83.2047 192.934 83.1993C193.277 83.1938 193.613 83.0979 193.906 82.9215L201.613 78.2879C201.897 78.1167 202.133 77.8758 202.296 77.5882C202.459 77.3007 202.545 76.9763 202.545 76.6463C202.545 76.3163 202.459 75.9919 202.296 75.7043C202.133 75.4168 201.897 75.1758 201.613 75.0047L193.919 70.3743C193.626 70.1945 193.289 70.0959 192.944 70.0888C192.599 70.0817 192.258 70.1662 191.957 70.3336C191.656 70.5011 191.405 70.7454 191.231 71.0411C191.057 71.3369 190.966 71.6735 190.968 72.0159Z"
                        fill="white"
                        stroke="#042750"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                    />
                    <path
                        d="M237.419 31.9999C237.419 24.2238 231.065 17.9199 223.226 17.9199C215.387 17.9199 209.032 24.2238 209.032 31.9999C209.032 39.7761 215.387 46.0799 223.226 46.0799C231.065 46.0799 237.419 39.7761 237.419 31.9999Z"
                        fill="white"
                        stroke="#042750"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        in:draw={{
                            duration: 1000,
                            easing: quintOut,
                            delay: 2000
                        }}
                    />
                    <path
                        d="M231.045 27.2544L220.416 37.7984L215.406 32.8288"
                        stroke="#042750"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        in:draw={{
                            duration: 1000,
                            easing: quintOut,
                            delay: 2000
                        }}
                    />
                    <path
                        d="M93.5483 17.9199H58.7096C58.3533 17.9199 58.0645 18.2065 58.0645 18.5599V30.0799C58.0645 30.4334 58.3533 30.7199 58.7096 30.7199H93.5483C93.9046 30.7199 94.1935 30.4334 94.1935 30.0799V18.5599C94.1935 18.2065 93.9046 17.9199 93.5483 17.9199Z"
                        fill="white"
                        stroke="#042750"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                    />
                    <path
                        d="M43.2258 75.52H34.1935C33.8372 75.52 33.5483 75.8066 33.5483 76.16V85.12C33.5483 85.4735 33.8372 85.76 34.1935 85.76H43.2258C43.5821 85.76 43.8709 85.4735 43.8709 85.12V76.16C43.8709 75.8066 43.5821 75.52 43.2258 75.52Z"
                        fill="#042750"
                    />
                    <path
                        d="M109.032 30.72C111.526 30.72 113.548 28.7142 113.548 26.24C113.548 23.7658 111.526 21.76 109.032 21.76C106.538 21.76 104.516 23.7658 104.516 26.24C104.516 28.7142 106.538 30.72 109.032 30.72Z"
                        fill="#042750"
                    />
                    <path
                        d="M61.9354 97.2801C64.0733 97.2801 65.8064 95.5609 65.8064 93.4401C65.8064 91.3193 64.0733 89.6001 61.9354 89.6001C59.7975 89.6001 58.0645 91.3193 58.0645 93.4401C58.0645 95.5609 59.7975 97.2801 61.9354 97.2801Z"
                        fill="white"
                        stroke="#042750"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        in:fly={{
                            x: -100,
                            delay: 385,
                            duration: 3000,
                            easing: quintOut
                        }}
                    />
                    <path
                        d="M225.161 83.1999C225.161 82.493 224.584 81.9199 223.871 81.9199C223.158 81.9199 222.581 82.493 222.581 83.1999V88.3199C222.581 89.0268 223.158 89.5999 223.871 89.5999C224.584 89.5999 225.161 89.0268 225.161 88.3199V83.1999Z"
                        fill="white"
                        stroke="#042750"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                    />
                    <path
                        d="M225.161 64C225.161 63.293 224.584 62.72 223.871 62.72C223.158 62.72 222.581 63.293 222.581 64V69.12C222.581 69.8269 223.158 70.4 223.871 70.4C224.584 70.4 225.161 69.8269 225.161 69.12V64Z"
                        fill="#042750"
                        stroke="#042750"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                    />
                    <path
                        d="M219.768 82.0432C220.272 81.5433 220.272 80.7328 219.768 80.233C219.264 79.7331 218.447 79.7331 217.943 80.233L214.293 83.8534C213.79 84.3532 213.79 85.1637 214.293 85.6636C214.797 86.1634 215.614 86.1634 216.118 85.6636L219.768 82.0432Z"
                        fill="#042750"
                        stroke="#042750"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                    />
                    <path
                        d="M217.939 72.0882C218.442 72.5881 219.259 72.5881 219.763 72.0882C220.267 71.5883 220.267 70.7779 219.763 70.278L216.114 66.6576C215.61 66.1578 214.793 66.1578 214.289 66.6576C213.785 67.1575 213.785 67.9679 214.289 68.4678L217.939 72.0882Z"
                        fill="#042750"
                        stroke="#042750"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                    />
                    <path
                        d="M231.629 85.6627C232.133 86.1625 232.95 86.1625 233.454 85.6627C233.958 85.1628 233.958 84.3523 233.454 83.8525L229.804 80.2321C229.3 79.7322 228.483 79.7322 227.979 80.2321C227.476 80.732 227.476 81.5424 227.979 82.0423L231.629 85.6627Z"
                        fill="white"
                        stroke="#042750"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                    />
                    <path
                        d="M216.774 77.4399C217.487 77.4399 218.064 76.8668 218.064 76.1599C218.064 75.453 217.487 74.8799 216.774 74.8799H211.613C210.9 74.8799 210.323 75.453 210.323 76.1599C210.323 76.8668 210.9 77.4399 211.613 77.4399H216.774Z"
                        fill="#042750"
                        stroke="#042750"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                    />
                    <path
                        d="M236.129 77.4399C236.842 77.4399 237.419 76.8668 237.419 76.1599C237.419 75.453 236.842 74.8799 236.129 74.8799H230.968C230.255 74.8799 229.677 75.453 229.677 76.1599C229.677 76.8668 230.255 77.4399 230.968 77.4399H236.129Z"
                        fill="white"
                        stroke="#042750"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                    />
                </g>
                <defs>
                    <clipPath id="clip0_535_434">
                        <rect width="250" height="120" fill="white" />
                    </clipPath>
                </defs>
            </svg>
        </div>

        <p
            transition:fade={{ duration: 1000, delay: 200, easing: sineIn }}
            style="max-width: 60ch;"
        >
            {$format('config_attributes_text')}
        </p>

        <div class="select-your-attributes">
            {#each attributeItems as item, i (i)}
                <label
                    use:tooltip={{
                        content: item.title,
                        placement: item.placement,
                        arrow: true,
                        animation: 'scale',
                        theme: 'material'
                    }}
                    class="attribute {item.classname}"
                    for={item.value}
                    class:selected={attributes.includes(item.value)}
                >
                    <input
                        type="checkbox"
                        bind:group={attributes}
                        value={item.value}
                        id={item.value}
                        style="display: none;"
                        on:change={saveUserPreferences}
                    />
                    <div>
                        {@html item.icon}
                    </div>
                    <span>{item.value}</span>
                </label>
            {/each}
        </div>

        {#if isChangingAttributes}
        <a
            data-sveltekit-preload-data="hover"
            class="button cta"
            href={`/${referrer}#estimated-completion`}
            >{$format('config_attributes_anchor_alternative')}</a
        >
    {:else if 'experience' in $UserPreferences && $UserPreferences.experience === 'all-steps'}
        <a
            data-sveltekit-preload-data="hover"
            href={`/${$CurrentModel}/jump-to-all`}
            class="button cta">{$format('config_attributes_anchor')}</a
        >
    {:else if 'experience' in $UserPreferences && $UserPreferences.experience === 'step-by-step'}
        <a
            data-sveltekit-preload-data="hover"
            href={`/${$CurrentModel}/step-by-step/get-to-know`}
            class="button cta">{$format('config_attributes_anchor')}</a
        >
    {:else}
        <a
            data-sveltekit-preload-data="hover"
            href={`/${$CurrentModel}/step-by-step/get-to-know`}
            class="button cta">{$format('config_attributes_anchor')}</a
        >
    {/if}
    </div>
{/if}

<style>
    .clouds {
        position: absolute;
        top: 3%;
        left: 0;
        width: 8em;
        height: 8em;
    }

    .clouds_right {
        position: absolute;
        top: 3%;
        right: 0;
        /* background: url($lib/assets/clouds-right2.svg) 100% no-repeat; */
        width: 8em;
        height: 8em;
    }
    .page-container {
        display: grid;
        place-items: center;
        margin-top: 250px;
        overflow-x: hidden;
    }

    p {
        margin: 3em 2em;
        text-align: center;
        font-size: var(--font-size-base);
        color: var(--cisco-midnight-blue);
    }
    .select-your-attributes label:hover,
    .select-your-attributes label:focus {
        background-color: var(--cisco-midnight-blue);
        border: 1px solid var(--cisco-blue);
        color: whitesmoke;
    }
    .select-your-attributes label {
        display: inline-flex;
        flex-direction: column;
        flex-wrap: nowrap;
        justify-content: space-around;
        align-items: center;
        text-decoration: none;
        background-color: transparent;
        outline: none;
        border: 1px solid var(--border-gray);
        cursor: pointer;
        border-radius: 14px;
        padding: 1em;
        flex: 0 1 250px;
        margin: 1em;
        transition: all 0.25s ease-in;
        color: var(--cisco-midnight-blue);
        font-size: var(--font-size-base);
        font-family: 'CiscoSansTTBold';
        box-shadow: rgba(0, 0, 0, 0.2) 0 3px 5px -1px, rgba(0, 0, 0, 0.14) 0 6px 10px 0,
            rgba(0, 0, 0, 0.12) 0 1px 18px 0;
        overflow: hidden;
        font-kerning: none;
    }

    .network-attributes {
        margin: 2em 0;
        transition: width 0.2s cubic-bezier(0.075, 0.82, 0.165, 1);
        min-width: 40vw;
    }

    .select-your-attributes {
        display: flex;
        flex-direction: row;
        flex-wrap: wrap;
        justify-content: space-evenly;
    }

    .select-your-attributes span {
        display: inline-block;
        text-align: center;
        word-wrap: break-word;
    }

    .cta {
        text-decoration: none;
        cursor: pointer;
        margin: 2em 0;
        display: flex;
        justify-content: center;
        align-items: center;
        background-color: var(--btn-blue-1);
        color: white;
        padding: 1em 2em;
        border-radius: 32px;
        transition: all 0.2s ease-in-out;
        align-self: center;
        border: var(--btn-blue-1) 1px solid;
    }
    .cta:hover {
        background-color: #0060ad;
    }

    @media only screen and (min-width: 769px) {
    }
    @media only screen and (min-width: 401px) and (max-width: 768px) {
        .network-attributes {
            width: 80%;
            margin: 0 !important;
        }

        .select-your-attributes label {
            flex: 0 1 200px;
        }

        svg {
            height: auto;
        }
    }

    @media only screen and (max-width: 400px) {
        .network-attributes {
            margin: 0 !important;
        }
    }
    svg {
        display: inline-block;
        width: 100%;
    }

    input {
        display: none;
    }

    .select-your-attributes > .selected {
        background-color: var(--cisco-midnight-blue);
        color: whitesmoke;
        border: 1px solid var(--cisco-blue);
    }
</style>
